#!/bin/bash
# analyzing apache log
awk '{ print $1, $(NF-1) }' apache-access.log \
| awk '{ count[$1" "$2]++ } END { for (k in count) print count[k], k }' \
| sort -nr

